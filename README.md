## 分布式云端文件存储系统
### 架构图
![filesystem-2024-08-09-1055](https://github.com/user-attachments/assets/dd8c1c9c-00ac-4b2d-85a3-3eff3553b848)
### 简介
这是一个分布式架构的云端文件存储系统，分为的微服务有账户服务、DBproxy、文件服务、文件转移服务。微服务之间通过grpc进行通信，使用consul作为服务注册和发现中心。用户注册登录后，通过访问文件上传服务提供的HTTP接口上传文件，文件服务校验用户后，生成文件元信息，调用DBproxy服务保存到MySQL，然后将文件保存到临时目录，并将文件转移任务发送到消息队列，转移服务接收到任务后，到指定路径下上传文件到腾讯云存储，上传成功后更新文件状态信息。
用户可以通过访问文件服务，通过用户验证后，文件服务查看本地是否存在该文件，存在则返回文件，不存在则生成文件下载任务，发送到消息队列中，并返回等待信息。文件转移服务接收到任务后将文件下载到指定目录，下载完成后，用户可以再次访问文件下载接口，下载文件。
### 使用技术
web框架gin，微服务框架grpc，服务注册发现中心consul，文件元信息存储sqlx、MySQL，任务队列rabbitmq，云端存储tencent cos.
